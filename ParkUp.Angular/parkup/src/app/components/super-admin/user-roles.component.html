<div class="container">
  <h4>Manage User Roles</h4>
  <br />

  <div class="row">
    <div class="col-auto">
      <form class="form-inline my-2 my-lg-0">
        <input class="form-control mr-sm-2" type="search" [(ngModel)]="searchPhrase" name="search" placeholder="Search Users" aria-label="Search">
        <button class="btn btn-outline-success my-2 my-sm-0" (click)="onSearchClick()">Search</button>
      </form>
    </div>
    <div class="col-auto">
      <p class="text-danger">{{ searchErrorMessage }}</p>
    </div>

  </div>
  <div class="row" *ngIf="foundUsers && foundUsers.length">
    <br />
  </div>

  <div class="row">
    <table class="table table-striped" *ngIf="foundUsers && foundUsers.length">
      <tbody>
        <tr *ngFor="let foundUser of foundUsers">
          <td>{{ foundUser.FirstName }}</td>
          <td>{{ foundUser.LastName }}</td>
          <td>{{ foundUser.Email }}</td>
          <td>{{ foundUser.Id }} C/h</td>
          <td>
            <div class="form-group">
              <select class="form-control" id="selectRole" #selectRole>
                <option *ngFor="let role of roles" value="{{role.Id}}">{{role.Name}}</option>                
              </select>
            </div>
          </td>
          <td>
            <button class="btn btn-success btn-sm" (click)="onAddRoleClick(foundUser.Id, selectRole.value)">Add Role</button>
          </td>
          <td>
            <button class="btn btn-danger btn-sm" (click)="onRemoveRoleClick(foundUser.Id, selectRole.value)">Remove Role</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

</div>
